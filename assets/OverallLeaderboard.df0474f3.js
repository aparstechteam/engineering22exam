var R=Object.defineProperty,k=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var g=(e,t,s)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,p=(e,t)=>{for(var s in t||(t={}))L.call(t,s)&&g(e,s,t[s]);if(_)for(var s of _(t))S.call(t,s)&&g(e,s,t[s]);return e},f=(e,t)=>k(e,C(t));import{_ as x}from"./lodash.02d8611c.js";import{s as A,o as r,b as a,d as l,g as I,v as V,F as v,h as b,p as D,i as N,n as j,t as i,j as y}from"./index.825ad7b4.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";const F={data(){return{search:"",testResults:[],allresult:[],results:[],sortCr:"aoae"}},methods:{sortResults(){this.testResults=x.orderBy(this.testResults,[this.sortCr],["desc"])},modeltestResults(){this.url="https://script.google.com/macros/s/AKfycbwefwoDAI46m1pstZcvAZo3pgomlpR6qcrwZw_C8hVxx6kfHdUVnUcVDxUYHrRgkSNP/exec",fetch(this.url).then(e=>e.json()).then(e=>{let t=e.map(s=>{let n=s.slice(3),d=x.sum(n)/n.length;return{name:s[0],college:s[1],uid:s[2],scores:n,average:d}});this.testResults=t.sort((s,n)=>n.average-s.average).map((s,n)=>f(p({},s),{rank:n})),this.allresult=this.testResults,setTimeout(()=>{location.hash=`#${this.user.reg}`},1e3)})},millisToMinutesAndSeconds(e){var t=Math.floor(e/6e4),s=(e%6e4/1e3).toFixed(0);return t+":"+(s<10?"0":"")+s},searchResult(){this.testResults=this.allresult.filter(e=>{if(e.name.toLowerCase().includes(this.search.toLowerCase())||e.college.toLowerCase().includes(this.search.toLowerCase())||e.uid.toLowerCase().includes(this.search.toLowerCase()))return e})},getStyle(e){return e==1?"success":e==2?"orange darken-2":e==3?"indigo":""},getborderStyle(e){let t={1:"s singleResult mb-2",2:"f singleResult mb-2",3:"d singleResult mb-2"};return t[e]?t[e]:"singleResult mb-2"}},created(){this.modeltestResults(),window.scrollTo(0,0)},computed:{user(){return A.state.user}}},u=e=>(D("data-v-5e62a4af"),e=e(),N(),e),T={class:"leaderboard"},U=u(()=>l("div",{class:"my-4"},[l("h1",{class:"text-3xl font-bold text-center text-gray-900 dark:text-white"},"Continuous Leaderboard")],-1)),M={class:"p-5 mx-1 rounded md:w-1/2 md:mx-auto bg-gray-50"},Z={class:"space-y-3"},E={class:"form-control"},H={class:"mt-4"},K={key:0},O=["id"],q={class:"flex items-center justify-center w-10 h-10 font-semibold text-white rounded-full bg-gradient-to-t from-blue-400 to-blue-600"},z={class:"flex-1 ml-2 text-gray-900 md:ml-4"},P={class:"text-lg font-semibold"},W={class:"text-lg font-light"},Y=u(()=>l("hr",null,null,-1)),G={key:0,class:"flex flex-wrap mt-2"},J={class:"text-lg font-medium"},Q={key:0,class:"text-xl font-semibold text-green-600"},X={key:1,class:"text-sm text-red-500"},$={key:1,class:"mt-3 text-sm"},ee={key:1,class:"text-center"},te=u(()=>l("button",{class:"btn loader btn-primary"},"Loading...",-1)),se=[te];function oe(e,t,s,n,d,c){return r(),a("div",T,[l("div",null,[U,l("div",M,[l("div",Z,[l("div",E,[I(l("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>d.search=o),placeholder:"Search by Name/College/Student ID",onKeyup:t[1]||(t[1]=(...o)=>c.searchResult&&c.searchResult(...o)),class:"input input-primary input-bordered"},null,544),[[V,d.search]])])]),l("div",H,[d.allresult.length>0?(r(),a("div",K,[(r(!0),a(v,null,b(d.testResults,(o,w)=>(r(),a("div",{key:w,id:o.uid,class:j(`${c.getborderStyle(o.position)} flex justify-between items-center p-5   rounded  shadow-md ${o.roll==c.user.roll?"bg-green-200":""}`),style:{"scroll-margin":"100px"}},[l("span",q,i(o.rank+1),1),l("div",z,[l("h2",P,i(o.name),1),l("p",W,i(o.uid)+" - "+i(o.college),1),Y,o.scores.length>0?(r(),a("div",G,[(r(!0),a(v,null,b(o.scores,(h,m)=>(r(),a("div",{key:m,class:"p-3 shadow rounded-2xl"},[l("h2",J," Week "+i(m+1),1),h?(r(),a("h1",Q,i(h),1)):(r(),a("p",X,"Absent"))]))),128))])):y("",!0),o.average?(r(),a("p",$,"Average of All Exams: "+i(Number(o.average).toFixed(2)),1)):y("",!0)])],10,O))),128))])):(r(),a("div",ee,se))])])])])}var ie=B(F,[["render",oe],["__scopeId","data-v-5e62a4af"]]);export{ie as default};
